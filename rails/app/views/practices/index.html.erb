<div class="min-h-screen w-full flex flex-col items-center py-10">
  <div class="w-full max-w-4xl rounded-2xl shadow-lg p-8">
    <% if notice %>
      <div class="mb-4 p-3 rounded bg-green-100 text-green-800 text-sm">
        <%= notice %>
      </div>
    <% end %>
    
    <% if alert %>
      <div class="mb-4 p-3 rounded bg-red-100 text-red-800 text-sm">
        <%= alert %>
      </div>
    <% end %>
    
    <div class="flex flex-col gap-4 mb-6 sm:flex-row sm:gap-0">
      <div class="flex-1">
        <h1 class="text-2xl font-bold text-base-900 dark:text-base-900">Liste des pratiques</h1>
      </div>
      <% if user_signed_in? %>
        <div>
          <%= link_to "â• Nouvelle pratique", new_practice_path, class: "btn btn-accent" %>
        </div>
      <% end %>
    </div>
    
    <div id="practices" class="grid grid-cols-1 gap-4">
      <% @practices.each do |practice| %>
        <div class="card-custom bg-base-100">
          <div class="flex-1">
            <h2 class="text-lg font-semibold dark:text-base-900"><%= practice.name %></h2>
            <% if practice.description.present? %>
              <p class="text-sm base-500 mt-2"><%= truncate(practice.description, length: 150) %></p>
            <% end %>
            <div class="mt-2 text-sm base-500">
              <span>ğŸ‘¨â€ğŸ« <%= practice.teachers_count %> professeur(s)</span>
              <span class="ml-4">ğŸ‰ <%= practice.events_count %> Ã©vÃ©nement(s)</span>
            </div>
          </div>
          
          <div class="mt-3 flex space-x-2">
            <%= link_to "Voir", practice, class: "btn btn-sm btn-accent" %>
            <% if user_signed_in? && (current_user.admin? || practice.user == current_user) %>
              <%= link_to "Modifier", edit_practice_path(practice), class: "btn btn-sm btn-secondary" %>
              <%= link_to "Supprimer", practice, data: { turbo_method: :delete, turbo_confirm: "Supprimer cette pratique ?" }, class: "btn btn-sm btn-error" %>
            <% end %>
          </div>
        </div>
      <% end %>
    </div>
  </div>
</div>
